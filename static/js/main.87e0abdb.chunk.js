(this.webpackJsonpcomponents=this.webpackJsonpcomponents||[]).push([[0],{11:function(e,t,n){e.exports=n(18)},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(8),i=n(7),c=n.n(i),l=n(2),o=n(3),s=n(5),r=n(4),u=n(1),d=n(6),m=n(0),h=n.n(m),p=n(10),b=n.n(p),f=function(){for(var e=[],t=0,n=1;n<=6;n++)t=Math.floor(6*Math.random())+1,e.push(t);return e[Math.floor(6*Math.random())]},A=function(){var e=f();return{defenseType:"pitcher",text:"Pitcher throws >>> [".concat(e,"]"),roll:e}},O=function(){var e=f();return{defenseType:"fielder",text:"Fielder rolls >>> [".concat(e,"]"),roll:e}},E=function(){var e=f();return{defenseType:"pick-off",text:"Pick Off Attempt! Catcher rolls >>> [".concat(e,"]"),roll:e}},k=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(r.a)(t).call(this,e))).handlePitchAction=n.handlePitchAction.bind(Object(u.a)(n)),n.handleFielderAction=n.handleFielderAction.bind(Object(u.a)(n)),n.handlePickOffAction=n.handlePickOffAction.bind(Object(u.a)(n)),n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handlePitchAction",value:function(){var e=A();this.props.onDefenseAction(e)}},{key:"handleFielderAction",value:function(){var e=O();this.props.onDefenseAction(e)}},{key:"handlePickOffAction",value:function(){var e=E();this.props.onDefenseAction(e)}},{key:"render",value:function(){return h.a.createElement("div",{className:"defense-actions"},h.a.createElement("h1",null,"Defense Actions"),h.a.createElement("div",{className:"action-card"},h.a.createElement("button",{onClick:this.handlePitchAction,className:"ui six wide column button"},"Pitch"),h.a.createElement("button",{onClick:this.handleFielderAction,className:"ui six wide column button"},"Fielder"),h.a.createElement("button",{onClick:this.handlePickOffAction,className:"ui six wide column button"},"Pick Off")))}}]),t}(h.a.Component);var v=function(){for(var e=[],t=f(),n=1;n<=t;n++)e.push(f());var a=e.reduce((function(e,t){return e+t}));return"Batter rolls >>> [".concat(a,"] >>> ").concat({1:"OUT [P2]",2:"HIT",3:"HIT",4:"HIT",5:"HIT",6:"HIT",7:"OUT [P5]",8:"HIT",9:"OUT [P3]",10:"HIT",11:"HIT",12:"HIT",13:"HIT",14:"HIT",15:"HIT",16:"HIT",17:"OUT [P7]",18:"OUT [P7]",19:"OUT [P8]",20:"OUT [P8]",21:"OUT [P9]",22:"OUT [P9]",23:"HIT",24:"HIT",25:"HIT",26:"HIT",27:"HOME RUN",28:"HOME RUN",29:"HOME RUN",30:"HOME RUN",31:"HOME RUN",32:"HOME RUN",33:"HOME RUN",34:"HOME RUN",35:"HOME RUN",36:"HOME RUN"}[a])},y=function(){var e=f();return"Runner rolls >>> [".concat(e,"]")},g=function(){for(var e=[],t=1;t<=2;t++)e.push(f());return"Steal Attempt! >>> [".concat(e,"], Total: ").concat(e.reduce((function(e,t){return e+t})))},S=function(){var e;return e=f(),"Hit & Run!  Roll >>> [".concat(e,1===e?"] Strike!  Runners must advance.":e<4?"] Foul Ball!  Runners must return to base.":"] Hit!")},j=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(r.a)(t).call(this,e))).handleHitAction=n.handleHitAction.bind(Object(u.a)(n)),n.handleRunnerAction=n.handleRunnerAction.bind(Object(u.a)(n)),n.handleStealAction=n.handleStealAction.bind(Object(u.a)(n)),n.handleHitAndRunAction=n.handleHitAndRunAction.bind(Object(u.a)(n)),n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleHitAction",value:function(){var e=v();this.props.onOffenseAction(e)}},{key:"handleRunnerAction",value:function(){var e=y();this.props.onOffenseAction(e)}},{key:"handleStealAction",value:function(){var e=g();this.props.onOffenseAction(e)}},{key:"handleHitAndRunAction",value:function(){var e=S();this.props.onOffenseAction(e)}},{key:"render",value:function(){return h.a.createElement("div",{className:"offense-actions"},h.a.createElement("h1",null,"Offense Actions"),h.a.createElement("div",{className:"action-card"},h.a.createElement("button",{onClick:this.handleHitAction,className:"ui six wide column button"},"Hit"),h.a.createElement("button",{onClick:this.handleRunnerAction,className:"ui six wide column button"},"Runner"),h.a.createElement("button",{onClick:this.handleStealAction,className:"ui six wide column button"},"Steal"),h.a.createElement("button",{onClick:this.handleHitAndRunAction,className:"ui six wide column button"},"Hit & Run")))}}]),t}(h.a.Component),N=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(r.a)(t).call(this,e))).handleAddInningAction=n.handleAddInningAction.bind(Object(u.a)(n)),n.handleSubtractInningAction=n.handleSubtractInningAction.bind(Object(u.a)(n)),n.handleAddOutAction=n.handleAddOutAction.bind(Object(u.a)(n)),n.handleSubtractOutAction=n.handleSubtractOutAction.bind(Object(u.a)(n)),n.handleDiceRollAction=n.handleDiceRollAction.bind(Object(u.a)(n)),n.handleInningResetAction=n.handleInningResetAction.bind(Object(u.a)(n)),n.handleAddStrikeAction=n.handleAddStrikeAction.bind(Object(u.a)(n)),n.handleSubtractStrikeAction=n.handleSubtractStrikeAction.bind(Object(u.a)(n)),n.handleAddBallAction=n.handleAddBallAction.bind(Object(u.a)(n)),n.handleSubtractBallAction=n.handleSubtractBallAction.bind(Object(u.a)(n)),n.handleDatabaseUpdate=n.handleDatabaseUpdate.bind(Object(u.a)(n)),n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleAddInningAction",value:function(){this.props.onUmpireAction({output:"Half Inning Added.",inning:.5})}},{key:"handleSubtractInningAction",value:function(){this.props.onUmpireAction({output:"Half Inning Subtracted.",inning:-.5})}},{key:"handleAddOutAction",value:function(){this.props.onUmpireAction({output:"Out added.",out:1})}},{key:"handleSubtractOutAction",value:function(){this.props.onUmpireAction({output:"Out Subtracted.",out:-1})}},{key:"handleAddStrikeAction",value:function(){this.props.onUmpireAction({output:"Strike Added",strike:1})}},{key:"handleSubtractStrikeAction",value:function(){this.props.onUmpireAction({output:"Strike Subtracted",strike:-1})}},{key:"handleAddBallAction",value:function(){this.props.onUmpireAction({output:"Ball Added",ball:1})}},{key:"handleSubtractBallAction",value:function(){this.props.onUmpireAction({output:"Ball Subtracted",ball:-1})}},{key:"handleDiceRollAction",value:function(){var e={output:"Umpire Rolls a ".concat(f())};this.props.onUmpireAction(e)}},{key:"handleInningResetAction",value:function(){this.props.onUmpireAction({output:"Resetting Inning",resetInning:!0})}},{key:"handleDatabaseUpdate",value:function(){this.props.onUmpireAction({output:"Updating game stats to Database",updateDatabase:!0})}},{key:"render",value:function(){return h.a.createElement("div",{className:"umpire-actions"},h.a.createElement("h1",null,"Umpire Actions"),h.a.createElement("div",{className:"action-card"},h.a.createElement("button",{onClick:this.handleAddInningAction,className:"ui six wide column button"},"+ Inning"),h.a.createElement("button",{onClick:this.handleSubtractInningAction,className:"ui six wide column button"},"- Inning"),h.a.createElement("button",{onClick:this.handleAddOutAction,className:"ui six wide column button"},"+ Out"),h.a.createElement("button",{onClick:this.handleSubtractOutAction,className:"ui six wide column button"},"- Out"),h.a.createElement("button",{onClick:this.handleAddStrikeAction,className:"ui six wide column button"},"+ Strike"),h.a.createElement("button",{onClick:this.handleSubtractStrikeAction,className:"ui six wide column button"},"- Strike"),h.a.createElement("button",{onClick:this.handleAddBallAction,className:"ui six wide column button"},"+ Balls"),h.a.createElement("button",{onClick:this.handleSubtractBallAction,className:"ui six wide column button"},"- Balls"),h.a.createElement("button",{onClick:this.handleDiceRollAction,className:"ui six wide column button"},"Dice Roll"),h.a.createElement("button",{onClick:this.handleInningResetAction,className:"ui six wide column button"},"Reset Inning"),h.a.createElement("button",{onClick:this.handleDatabaseUpdate,className:"ui six wide column button"},"Update DB")))}}]),t}(h.a.Component),T=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=-1,t=this.props.output.map((function(t){return t.includes("DEFENSE")?h.a.createElement("p",{key:"action-".concat(e++)},h.a.createElement("span",{className:"defense"},t)):t.includes("OFFENSE")?h.a.createElement("p",{key:"action-".concat(e++)},h.a.createElement("span",{className:"offense"},t)):h.a.createElement("p",{key:"action-".concat(e++)},h.a.createElement("span",{className:"umpire"},t))}));return h.a.createElement("div",{className:"gamelog"},h.a.createElement("h1",{className:"ui header"},"Game Output - Play by Play Information"),h.a.createElement("div",{className:"game-output"},t))}}]),t}(h.a.Component),w=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.stats,t="";return t=e.inning<=0?"Inning:  Waiting for First Pitch":Number.isInteger(e.inning)?"  Bottom of ".concat(e.inning):"  Top of ".concat(e.inning+.5),h.a.createElement("div",{className:"gamestats"},h.a.createElement("h1",null,"Game Stats"),h.a.createElement("div",{className:"game-stats"},h.a.createElement("p",null,h.a.createElement("b",null,"Inning:")),h.a.createElement("p",null,t),h.a.createElement("p",null,h.a.createElement("b",null,"Strikes:")," ",e.strikes),h.a.createElement("p",null,h.a.createElement("b",null,"Balls:")," ",e.balls),h.a.createElement("p",null,h.a.createElement("b",null,"Outs:")," ",e.outs<=0?0:e.outs),h.a.createElement("p",null)))}}]),t}(h.a.Component),I=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.gameInfo;return h.a.createElement("div",{className:"teaminfo"},h.a.createElement("h1",null,"Game Info"),h.a.createElement("div",{className:"team-info"},h.a.createElement("p",null,h.a.createElement("b",null,"Home Team:")," ",e.homeTeam),h.a.createElement("p",null,h.a.createElement("b",null,"Home Score:")," ",e.homeScore),h.a.createElement("p",null,h.a.createElement("b",null,"Away Team:")," ",e.awayTeam),h.a.createElement("p",null,h.a.createElement("b",null,"Away Score:")," ",e.awayScore)))}}]),t}(h.a.Component),U=[],H=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){this.props.gamesList.forEach((function(e){U.push(h.a.createElement("tr",{key:e._id},h.a.createElement("td",null,e._id),h.a.createElement("td",null,e.date),h.a.createElement("td",null,e.homeTeam),h.a.createElement("td",null,e.awayTeam),h.a.createElement("td",null,e.homeScore),h.a.createElement("td",null,e.awayScore)))}))}},{key:"render",value:function(){return h.a.createElement("div",{className:"teaminfo"},h.a.createElement("h1",null,"Games in DB"),h.a.createElement("div",{className:"team-info"},h.a.createElement("table",null,h.a.createElement("thead",null,h.a.createElement("tr",null,h.a.createElement("th",null,"ID"),h.a.createElement("th",null,"Date"),h.a.createElement("th",null,"homeTeam"),h.a.createElement("th",null,"awayTeam"),h.a.createElement("th",null,"homeScore"),h.a.createElement("th",null,"awayScore"))),h.a.createElement("tbody",null,U))))}}]),t}(h.a.Component),R=(n(17),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(r.a)(t).call(this,e))).state={gameInfo:{},gamesList:{},stats:{inning:.5,strikes:0,balls:0,outs:0},output:["Waiting on first pitch to begin the game..."],umpireOverwrite:!1},n.handleDefenseAction=n.handleDefenseAction.bind(Object(u.a)(n)),n.handleOffenseAction=n.handleOffenseAction.bind(Object(u.a)(n)),n.handleUmpireAction=n.handleUmpireAction.bind(Object(u.a)(n)),n.updateToDatabase=n.updateToDatabase.bind(Object(u.a)(n)),n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,a,i;return c.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,c.a.awrap(fetch("https://diceball-api.herokuapp.com/game?homeTeam=XXX"));case 2:return e=l.sent,l.next=5,c.a.awrap(e.json());case 5:return t=l.sent,this.setState({gamesList:t}),console.log(t),l.next=10,c.a.awrap(fetch("https://diceball-api.herokuapp.com/game/5e41e894543782192509942a"));case 10:return n=l.sent,l.next=13,c.a.awrap(n.json());case 13:a=l.sent,i=a[0],this.setState({gameInfo:{_id:i._id,date:i.date,homeTeam:i.homeTeam,awayTeam:i.awayTeam,homeScore:i.homeScore,awayScore:i.awayScore},stats:{inning:i.inning,strikes:i.strikes,balls:i.balls,outs:i.outs},output:[i.output]});case 16:case"end":return l.stop()}}),null,this)}},{key:"componentDidUpdate",value:function(){if(3===this.state.stats.outs){var e="[ UMPIRE ] Three outs.  Inning is over.  Click 'Pitch' to start new Inning.";this.setState((function(t){return t.stats.outs=0,t.stats.inning+=.5,t.stats.strikes=0,t.stats.balls=0,{output:[e].concat(Object(a.a)(t.output))}}))}this.state.umpireOverwrite&&(this.handleDefenseAction({text:"Umpire Overwrite",defenseType:"umpireOverwrite"}),this.setState((function(e){e.umpireOverwrite=!1})))}},{key:"handleDefenseAction",value:function(e){var t=this,n="Umpire Overwrites Balls or Strikes";"fielder"===e.defenseType||"pick-off"===e.defenseType?this.setState((function(t){return{output:["[ DEFENSE ] ".concat(e.text)].concat(Object(a.a)(t.output))}})):"pitcher"!==e.defenseType&&"umpireOverwrite"!==e.defenseType||this.setState((function(i){if("pitcher"===e.defenseType){var c=function(e,t){var n={balls:t.balls,strikes:t.strikes,pitchCall:""};return 6===e?(n.balls=0,n.strikes=0,n.pitchCall="Hit! Resetting balls and strikes.",n):e<6&&e>3?(n.balls+=1,n.pitchCall="Ball!",n):e<4&&e>1&&2!==n.strikes?(n.strikes+=1,n.pitchCall="Foul Ball!",n):e<4&&e>1?(n.pitchCall="Foul Ball!",n):1===e?(n.strikes+=1,n.pitchCall="Strike!",n):void 0}(e.roll,t.state.stats);i.stats.balls=c.balls,i.stats.strikes=c.strikes,n=c.pitchCall}var l=function(e){var t=e.balls,n=e.strikes,a={text:"",walk:!1,strikeout:!1};return 4===t?(a.text="4 balls -- Take your base!",a.walk=!0,a):3===n?(a.text="3 strikes - You are out!",a.strikeout=!0,a):a}(t.state.stats);return(l.walk||l.strikeout)&&(i.stats.balls=0,i.stats.strikes=0),!0===l.strikeout&&(i.stats.outs+=1),{output:[l.text?"[ DEFENSE ] ".concat(e.text," -- ",n," -- ",l.text," -- ","resetting balls and strikes based on umpIndicator..."):"[ DEFENSE ] ".concat(e.text," >>> ",n)].concat(Object(a.a)(i.output))}}))}},{key:"handleOffenseAction",value:function(e){this.setState((function(t){return{output:["[ OFFENSE ] ".concat(e)].concat(Object(a.a)(t.output))}}))}},{key:"handleUmpireAction",value:function(e){var t=this;this.setState((function(n){var i=["[ UMPIRE ] ".concat(e.output)].concat(Object(a.a)(n.output));if(e.inning)n.stats.inning<0?n.stats.inning=0:n.stats.inning+=e.inning;else if(e.out)n.stats.outs<0?n.stats.outs=0:n.stats.outs+=e.out;else if(e.strike)n.stats.strikes<0?n.stats.strikes=0:n.stats.strikes+=e.strike,n.umpireOverwrite=!0;else if(e.ball)n.stats.balls<0?n.stats.balls=0:n.stats.balls+=e.ball,n.umpireOverwrite=!0;else if(e.resetInning)n.stats.outs=0,n.stats.balls=0,n.stats.strikes=0;else if(e.updateDatabase){var c=t.state.stats;c.output=t.state.output,t.updateToDatabase(c)}return{output:i}}))}},{key:"updateToDatabase",value:function(e){var t;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return"5e41e894543782192509942a",console.log(e),n.next=4,c.a.awrap(fetch("https://diceball-api.herokuapp.com/game/update/".concat("5e41e894543782192509942a"),{method:"PUT",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify(e)}));case 4:t=n.sent,console.log(t);case 6:case"end":return n.stop()}}))}},{key:"render",value:function(){return h.a.createElement("div",null,h.a.createElement("header",null,"Diceball!"),h.a.createElement("div",{className:"gameconsole"},h.a.createElement("div",{className:"actions"},h.a.createElement(N,{onUmpireAction:this.handleUmpireAction}),h.a.createElement(j,{onOffenseAction:this.handleOffenseAction}),h.a.createElement(k,{onDefenseAction:this.handleDefenseAction}),h.a.createElement(w,{stats:this.state.stats})),h.a.createElement("div",{className:"playinfo"},h.a.createElement(T,{output:this.state.output})),h.a.createElement("div",{className:"break"}),h.a.createElement("div",null,h.a.createElement(I,{gameInfo:this.state.gameInfo}),h.a.createElement(H,{gamesList:this.state.gamesList}))))}}]),t}(h.a.Component));b.a.render(h.a.createElement(R,null),document.querySelector("#root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.87e0abdb.chunk.js.map